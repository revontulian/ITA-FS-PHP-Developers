<?php $user = $this->user ?? null; ?>
<div class="profile-container">
    <h2>Your Profile</h2>
    <div class="card">
        <div class="card-body">
            <div class="user-info">
                <p><strong>Email:</strong> <?php echo htmlspecialchars($user['email'] ?? ''); ?></p>
                <p><strong>Password (hashed):</strong> <?php echo htmlspecialchars($user['password'] ?? ''); ?></p>
                <p><strong>Name:</strong> <?php echo htmlspecialchars($user['name'] ?? ''); ?></p>
                <p><strong>Surname:</strong> <?php echo htmlspecialchars($user['surname'] ?? ''); ?></p>
                <p><strong>Date of Birth:</strong> <?php echo htmlspecialchars($user['date_of_birth'] ?? ''); ?></p>
            </div>
            <div class="mt-4">
                <a href="<?php echo $this->baseUrl(); ?>/edit-profile" class="btn btn-secondary">Edit Profile</a>
                <a href="<?php echo $this->baseUrl(); ?>/logout" class="btn btn-danger">Logout</a>
                <button type="button" class="btn btn-danger" onclick="document.getElementById('deleteModal').style.display='block'">Delete Account</button>
            </div>

           
            <div id="deleteModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5);">
                <div style="background:#fff; margin:10% auto; padding:20px; width:300px; border-radius:8px; text-align:center;">
                    <p>Are you sure you want to delete your account?</p>
                    <form method="POST" action="<?php echo $this->baseUrl(); ?>/delete-account">
                        <button type="submit" class="btn btn-danger">Yes, delete</button>
                        <button type="button" class="btn btn-secondary" onclick="document.getElementById('deleteModal').style.display='none'">No, cancel</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>